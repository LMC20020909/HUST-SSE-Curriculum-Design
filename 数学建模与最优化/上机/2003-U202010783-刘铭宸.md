---
title: 数学建模上机文档
---

# 问题一

> 对方案1、2建立使值班护士人数为最少的线性规划模型并求解。

## 方案一

### 确定决策变量、目标函数和约束函数

根据题意，每名护士连续上班5天，休息2天，并从上班第一天起按从上第一班到第五班顺序安排。目标是使值班护士人数最少。

可以设决策变量$x_1,x_2,x_3,x_4,x_5,x_6,x_7$分别表示从星期一到星期日该日开始上班的护士人数，则所需的值班护士总人数则可以简单的表示为这七天开始上班的护士人数的总和。

每天的时间区段和护士班次对应如下表：

| 时间区段           | 班次                |
| ------------------ | ------------------- |
| 6:00~10:00         | 1,2                 |
| 10:00~14:00        | 2,3                 |
| 14:00~18:00        | 3,4                 |
| 18:00~22:00        | 4,5                 |
| 22:00~6:00（次日） | 5(前一半),1(后一半) |

每天的五个时间区段上班的护士数量如下表所示：

| 时间区段           | 周一   | 周二   | 周三   | 周四   | 周五   | 周六   | 周日   |
| ------------------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ |
| 6:00~10:00         | x1+x7  | x2+x1  | x3+x2  | x4+x3  | x5+x4  | x6+x5  | x7+x6  |
| 10:00~14:00        | x6+x7  | x1+x7  | x2+x1  | x3+x2  | x4+x3  | x5+x4  | x6+x5  |
| 14:00~18:00        | x5+x6  | x7+x6  | x1+x7  | x2+x1  | x3+x2  | x4+x3  | x5+x4  |
| 18:00~22:00        | x4+x5  | x6+x5  | x7+x6  | x1+x7  | x2+x1  | x3+x2  | x4+x3  |
| 22:00~6:00（次日） | x4, x1 | x5, x2 | x6, x3 | x7, x4 | x1, x5 | x2, x6 | x3, x7 |

22:00~6:00（次日）这一时间段需要第一班和第五班合作完成，故这两班的人数都要达到人数要求。

根据题意，可以确定决策变量、目标函数和约束函数（重复的约束函数已略去）如下：

决策变量：
$$
x_1,x_2,x_3,x_4,x_5,x_6,x_7
$$
目标函数：
$$
min\quad tot = \sum_{i=1}^{7}x_i \\
$$
约束函数：
$$
x_6+x_7\geq20\\
x_1+x_7\geq20\\
x_2+x_1\geq20\\
x_3+x_2\geq20\\
x_4+x_3\geq20\\
x_5+x_4\geq20\\
x_6+x_5\geq20\\
x_1,x_2,...,x_7\geq12
$$

### 使用lingo编程求解

代码如下：

```matlab
model:
min = x1+x2+x3+x4+x5+x6+x7;
[mon]x6+x7>20;
[tue]x1+x7>20;
[wed]x2+x1>20;
[thu]x3+x2>20;
[fri]x4+x3>20;
[sat]x5+x4>20;
[sun]x6+x5>20;
x1>12;
x2>12;
x3>12;
x4>12;
x5>12;
x6>12;
x7>12;
end
```



<img src="https://cdn.jsdelivr.net/gh/LMC20020909/BlogMaps//img/image-20221216194259818.png" alt="image-20221216194259818" style="zoom: 67%;" />

求解得：

<img src="https://cdn.jsdelivr.net/gh/LMC20020909/BlogMaps//img/image-20221216194443965.png" alt="image-20221216194443965" style="zoom: 50%;" />

可得当每天开始上班的护士人数都为12人时，值班护士总人数最少，最少人数为84人。

## 方案二

### 确定决策变量、目标函数和约束函数

根据题意，每名护士在周六、周日两天内安排一天、且只安排一天休息，并且每个护士工作日期连续，所以一旦确定周末两天每个班次的护士人数，总人数和护士的排班就可以轻松确定。

设决策变量$x_1,x_2,...,x_{10}$分别表示从周六和周日共10班的护士人数，则所需的值班护士总人数则可以表示为这是个变量的和。

护士值班情况如下表所示：

| 班次               | 周一 | 周二   | 周三   | 周四   | 周五 | 周六 | 周日 |
| ------------------ | ---- | ------ | ------ | ------ | ---- | ---- | ---- |
| 2:00~10:00         | x10  | x5+x9  | x4+x8  | x3+x7  | x2   | x1   | x6   |
| 6:00~14:00         | x6   | x1+x10 | x5+x9  | x4+x8  | x3   | x2   | x7   |
| 10:00~18:00        | x7   | x2+x6  | x1+x10 | x5+x9  | x4   | x3   | x8   |
| 14:00~22:00        | x8   | x3+x7  | x2+x6  | x1+x10 | x5   | x4   | x9   |
| 18:00~2:00（次日） | x9   | x4+x8  | x3+x7  | x2+x6  | x1   | x5   | x10  |

根据题意，可以确定决策变量、目标函数和约束函数（重复的约束函数已略去）如下：

决策变量：
$$
x_1,x_2,x_3,x_4,x_5,x_6,x_7,x_8,x_9,x_{10}
$$
目标函数：
$$
min\quad tot = \sum_{i=1}^{10}x_i \\
$$
约束函数：
$$
x_6+x_7\geq20\\
x_1+x_2+x_6+x_{10}\geq20\\
x_1+x_5+x_9+x_{10}\geq20\\
x_4+x_5+x_8+x_9\geq20\\
x_4+x_3\geq20\\
x_2+x_3\geq20\\
x_7+x_8\geq20\\
x_4+x_5\geq19\\
x_8+x_9\geq19\\
x_{10}+x_6\geq18\\
x_9+x_{10}\geq17\\
x_1,x_2,x_5,x_6,x_9,x_{10}\geq12\\
x_4+x_8\geq12\\
x_3+x_7\geq12\\
x_3,x_4,x_7,x_8\geq0
$$

### 使用lingo编程求解

代码如下：

```matlab
model:
min = x1+x2+x3+x4+x5+x6+x7+x8+x9+x10;
x6+x7>20;
x1+x2+x6+x10>20;
x1+x5+x9+x10>20;
x4+x5+x8+x9>20;
x4+x3>20;
x2+x3>20;
x7+x8>20;
x4+x5>19;
x8+x9>19;
x10+x6>18;
x9+x10>17;
x1>12;
x2>12;
x5>12;
x6>12;
x9>12;
x10>12;
x4+x8>12;
x3+x7>12;
end
```

<img src="https://cdn.jsdelivr.net/gh/LMC20020909/BlogMaps//img/image-20221216205359502.png" alt="image-20221216205359502" style="zoom:67%;" />

求解得：

<img src="C:\Users\86182\AppData\Roaming\Typora\typora-user-images\image-20221216205904001.png" alt="image-20221216205904001" style="zoom:50%;" />

可得方案二总人数最少需要112人。

## 结论

对于方案一，使值班护士人数为最少的线性规划模型为：

| 班次               | 周一 | 周二 | 周三 | 周四 | 周五 | 周六 | 周日 |
| ------------------ | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 2:00~10:00         | 12   | 12   | 12   | 12   | 12   | 12   | 12   |
| 6:00~14:00         | 12   | 12   | 12   | 12   | 12   | 12   | 12   |
| 10:00~18:00        | 12   | 12   | 12   | 12   | 12   | 12   | 12   |
| 14:00~22:00        | 12   | 12   | 12   | 12   | 12   | 12   | 12   |
| 18:00~2:00（次日） | 12   | 12   | 12   | 12   | 12   | 12   | 12   |

总共需要$12\times7=84$名护士。



对于方案二，使值班护士人数为最少的线性规划模型为：

| 班次               | 周一 | 周二 | 周三 | 周四 | 周五 | 周六 | 周日 |
| ------------------ | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 2:00~10:00         | 12   | 24   | 14   | 26   | 12   | 12   | 12   |
| 6:00~14:00         | 12   | 24   | 24   | 14   | 13   | 12   | 13   |
| 10:00~18:00        | 13   | 24   | 24   | 24   | 7    | 13   | 7    |
| 14:00~22:00        | 7    | 26   | 24   | 24   | 12   | 7    | 12   |
| 18:00~2:00（次日） | 12   | 14   | 26   | 24   | 12   | 12   | 12   |

总共需要112名护士。



# 问题二

> 对方案3，同样建立使值班护士人数为最少的线性规划模型并求解，然后回答*a*的值为多大时，第3方案较第2方案更经济。

## 方案三

### 确定决策变量、目标函数和约束函数

根据题意，有一部分护士周末两天都上班，另外一部分周末只上一天，所以一旦确定周末两天每个班次的护士人数，总人数和护士的排班就可以轻松确定。

对于周末两天都上班的护士，设决策变量$x_1,x_2,...,x_{5}$分别表示每班次的上班人数；对于周末只上一天的护士，设决策变量$x_6,x_7,...,x_{15}$分别表示每班次的上班人数。

则护士值班情况如下表所示：

| 班次               | 周一   | 周二       | 周三       | 周四    | 周五 | 周六   | 周日   |
| ------------------ | ------ | ---------- | ---------- | ------- | ---- | ------ | ------ |
| 2:00~10:00         | x4+x15 | x3+x10+x14 | x2+x9+x13  | x8+x12  | x7   | x1+x6  | x5+x11 |
| 6:00~14:00         | x5+x11 | x4+x6+x15  | x3+x10+x14 | x9+x13  | x8   | x2+x7  | x1+x12 |
| 10:00~18:00        | x1+x12 | x5+x11+x7  | x4+x6+x15  | x10+x14 | x9   | x3+x8  | x2+x13 |
| 14:00~22:00        | x2+x13 | x1+x12+x8  | x5+x7+x11  | x6+x15  | x10  | x4+x9  | x3+x14 |
| 18:00~2:00（次日） | x3+x14 | x2+x9+x13  | x1+x8+x12  | x7+x11  | x6   | x5+x10 | x4+x15 |

根据题意，可以确定决策变量、目标函数和约束函数（重复的约束函数已略去）如下：

决策变量：
$$
x_1,x_2,x_3,x_4,x_5,x_6,x_7,x_8,x_9,x_{10},x_{11},x_{12},x_{13},x_{14},x_{15}
$$
目标函数：
$$
min\quad tot = \sum_{i=1}^{10}x_i \\
$$
约束函数：
$$
x_4+x_{15}+x_5+x_{11}\geq18\\
x_5+x_{11}+x_1+x_{12}\geq20\\
x_4+x_{15}+x_6+x_5+x_{11}+x_7\geq20\\
x_5+x_{11}+x_7+x_1+x_{12}+x_8\geq19\\
x_3+x_{14}+x_{10}+x_4+x_{15}+x_6\geq20\\
x_{13}+x_9+x_{14}+x_{10}\geq20\\
x_{14}+x_{10}+x_{15}+x_6\geq19\\
x_{15}+x_6+x_{11}+x_7\geq17\\
x_7+x_8\geq18\\
x_8+x_9\geq20\\
x_9+x_{10}\geq19\\
x_{10}+x_6\geq17\\
x_1+x_6+x_2+x_7\geq18\\
x_2+x_7+x_3+x_8\geq20\\
x_1+x_{12}+x_2+x_{13}\geq20\\
x_2+x_{13}+x_3+x_{14}\geq19\\
x_3+x_{14}+x_4+x_{15}\geq17\\
x_{12}+x_8\geq12\\
x_7\geq12\\
x_5+x_{11}\geq12\\
x_7\geq12\\
x_5+x_{11}\geq12\\
x_3+x_{14}\geq12\\
x_2+x_{13}+x_9\geq12\\
x_6\geq12\\
x_5+x_{10}\geq12\\
x_4+x_{15}\geq12\\
$$

### 使用lingo编程求解

代码如下：

```matlab
x4+x15+x5+x11>18;
x5+x11+x1+x12>20;
x4+x15+x6+x5+x11+x7>20;
x5+x11+x7+x1+x12+x8>19;
x3+x14+x10+x4+x15+x6>20;
x13+x9+x14+x10>20;
x14+x10+x15+x6>19;
x15+x6+x11+x7>17;
x7+x8>18;
x8+x9>20;
x9+x10>19;
x10+x6>17;
x1+x6+x2+x7>18;
x2+x7+x3+x8>20;
x1+x12+x2+x13>20;
x2+x13+x3+x14>19;
x3+x14+x4+x15>17;
x12+x8>12;
x7>12;
x5+x11>12;
x7>12;
x5+x11>12;
x3+x14>12;
x2+x13+x9>12;
x6>12;
x5+x10>12;
x4+x15>12;
```

<img src="https://cdn.jsdelivr.net/gh/LMC20020909/BlogMaps//img/image-20221217184719664.png" alt="image-20221217184719664" style="zoom: 50%;" />

求解得：

<img src="https://cdn.jsdelivr.net/gh/LMC20020909/BlogMaps//img/image-20221217184854444.png" alt="image-20221217184854444" style="zoom:50%;" />

可得方案三总人数最少需要105人。

## 结论

对于方案三，使值班护士人数为最少的线性规划模型为：

| 班次               | 周一 | 周二 | 周三 | 周四 | 周五 | 周六 | 周日 |
| ------------------ | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 2:00~10:00         | 12   | 17   | 21   | 12   | 12   | 19   | 12   |
| 6:00~14:00         | 12   | 24   | 17   | 14   | 6    | 19   | 13   |
| 10:00~18:00        | 13   | 24   | 24   | 6    | 14   | 17   | 7    |
| 14:00~22:00        | 7    | 19   | 24   | 13   | 5    | 25   | 12   |
| 18:00~2:00（次日） | 12   | 21   | 19   | 12   | 12   | 17   | 12   |

总共需要105名护士，其中周末放弃休息的护士有44人，休息一天的护士有61人。

放弃周末休息的护士，其工资和奖金总额比其他护士增加a%。设正常每名护士的工资和奖金为$s$元，则当方案三较方案二经济时，可列方程如下：
$$
61\times s+44\times(1+a\%)s<112\times s\\
a<\frac{7}{0.44}\approx15.91\\
故a的值为15时，方案三较方案二更经济
$$
